<!DOCTYPE html>
<html><head>
	<title>3Doku</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<link rel="stylesheet" type="text/css" href="3d.css" />
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q2BJ5624NT"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'G-Q2BJ5624NT');
	</script>
	<script src="util/qr.js"></script>
</head><body>
	<div id="scroller"></div>
	<div id="main">
		<h1>3Doku <span id="puzzle-id"></span></h1>
		<doku-cube id="cube"></doku-cube>
		<div id="sidebar">
			<radio-group
				id="tool"
				name="Tool"
				value="pen"
				option-pen="Pen"
				option-pencil="Pencil"
				option-highlight="Highlight"
				option-none="Nothing"
			></radio-group>
			<radio-group
				class="hidden"
				id="pencil-value"
				name="Pencil Value"
				value="0"
				option-0="1"
				option-1="2"
				option-2="3"
				option-3="4"
				option-4="5"
				option-5="6"
				option-6="7"
				option-7="8"
				option-8="9"
				option-9="10"
				option-10="11"
				option-11="12"
				option-12="13"
				option-13="14"
				option-14="15"
				option-15="16"
			></radio-group>
			<radio-group
				class="hidden"
				id="highlight-colour"
				name="Highlighter colour"
				value="red"
				option-red="Red"
				option-green="Green"
				option-blue="Blue"
				option-yellow="Yellow"
				option-purple="Purple"
				option-teal="Teal"
				option-orange="Orange"
				option-none="Clear"
			></radio-group>
			<div id="buttons">
				<button id="assistance">Assistance</button>
				<button id="options">Options</button>
				<button id="reset">Reset</button>
				<button id="undo">Undo</button>
				<button id="show-result" class="hidden">Show result</button>
			</div>
		</div>
	</div>
	<div id="dialog-overlay"></div>
	<dialog id="assistance-modal">
		<div>
			<h1>Assistance</h1>
			<p>You <i>can</i> complete 3Doku completely manually, but it can get annoying, so here are some tools to make it a bit easier.</p>
			<button id="fill-in-pencil">Fill in pencil marks</button>
			<label><input type="checkbox" id="autopencil"><span>Autopencil</span></label>
			<p>Autopencil will delete pencilmarks when you add a number with the pen tool. It is convenient, but be careful as if you make a mistake, Autopencil might delete a number which is correct.</p>
			<p>Neither "fill in pencil marks" and "autopencil" count as a hint or affect your streak.</p>
			<label><input type="checkbox" id="show-errors"><span>Highlight errors</span></label>
			<p>This will flag up incorrect guesses in yellow (when the pen tool is selected). This is very useful but can be high stakesÂ â€” if any mistakes get highlighted, that counts as taking a hint, and your streak will be reset.</p>
			<button id="reveal-solution">Reveal solution</button>
			<!--button id="hint">Suggest a move</button-->
		</div>
		<button id="close-assistance" class="primary">Close</button>
	</dialog>
	<dialog id="help-modal" open>
		<div>
			<h1>How to play 3Doku</h1>
			<p>3Doku is a classic sudoku wrapped around a cube, although unlike a classic sudoku it uses the numbers 1-16 rather than 1-9.</p>
			<p>Each face of the solved cube contains each of the numbers 1-16, and like a classic sudoku there are also "rows" and "columns" which contain the numbers 1-16.</p>
			<img src="assets/groups.png" alt="An example image of the cube, with the groups highlighted.">
			<p>Look at the rows and columns within each face, and follow them over the edge onto the next face, wrapping all the way around the cube until you get back to the first face. If you need help with this, select the 'pen' tool and click a cell on the cube â€” the groups its in will be highlighted.</p>
			<p>You should also check out my word-based puzzle, <a href="https://www.andrewt.net/puzzles/cell-tower">Cell Tower</a>!</p>
			<p class="smol">3Doku Â© 2023 <a href="https://twitter.com/Andrew_Taylor">@Andrew_Taylor</a>. Font is <a href="https://github.com/JulietaUla/Montserrat">Montserrat</a>.</p>
		</div>
		<button id="close-instructions" class="primary">Loading...</button>
		<a href="?" id="jump-to-today" class="secondary button">Todayâ€™s puzzle</a>
	</dialog>
	<dialog id="options-modal">
		<div>
			<h1>Options</h1>
			<button id="help">How to play</button>
			<label class="stacked">
				Select a puzzle
				<select id="game"><option></option></select>
			</label>
			<p>Current streak: <span id="current-streak"></span></p>
			<p>Best streak: <span id="best-streak"></span></p>
			<p>Puzzles completed: <span id="completion-percent"></span></p>
			<button id="export-button">Transfer data to another device</button>
			<button id="delete-data">Delete data</button>
			<fieldset>
				<legend>Dark Mode</legend>
				<label><input id="dark-on" type="radio" name="dark"> On</label>
				<label><input id="dark-off" type="radio" name="dark"> Off</label>
				<label><input id="dark-system" type="radio" name="dark"> Use system theme</label>
			</fieldset>
			<fieldset>
				<legend>Reduced Animation</legend>
				<label><input id="reduced-motion-on" type="radio" name="reduced-motion"> On</label>
				<label><input id="reduced-motion-off" type="radio" name="reduced-motion"> Off</label>
				<label><input id="reduced-motion-system" type="radio" name="reduced-motion"> Use system setting</label>
			</fieldset>
		</div>
		<button id="close-options" class="primary">Close</button>
	</dialog>
	<dialog id="confirm">
		<div>
			<p id="confirm-blurb">Are you sure?</p>
		</div>
		<button id="confirm-ok" class="primary">OK</button>
		<button id="confirm-cancel">Cancel</button>
	</dialog>
	<dialog id="export-modal">
		<div>
			<h1>Export data</h1>
			<p>Use your other device to <a href="" id="export-link">open this link</a> <span id="code-worked">or scan this QR code</span></p>
			<p id="export-qr-container" aria-hidden></p>
		</div>
		<button id="close-export" class="primary">Done</button>
	</dialog>
	<dialog id="result">
		<div>
			<p>ðŸŽ‰ Congratulations! ðŸŽ‰</p>
			<p>Current streak: <span id="current-streak-2"></span></p>
			<p>Best streak: <span id="best-streak-2"></span></p>
		</div>
		<div class="footer">
			<button id="close-result" class="secondary">View completed cube</button>
			<a href="?" id="today-next" class="button">Play todayâ€™s puzzle</a>
			<div id="next-puzzle-container" class="secondary button">
				Next puzzle in <span id="next-puzzle"></span>
			</div>
		</div>
	</dialog>
	<script src="js/main.js" type="module"></script>
</body></html>
